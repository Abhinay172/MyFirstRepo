<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine üíñ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Sacramento&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  height:100vh;
  overflow:hidden;
  font-family:'Sacramento', cursive;
  cursor:none;
  background:#000;
}

/* ‚ù§Ô∏è HEART CURSOR */
#heartCursor {
  position: fixed;
  width: 22px;
  height: 22px;
  pointer-events: none;
  background: red;
  clip-path: polygon(
    50% 0%,61% 14%,75% 14%,85% 25%,85% 38%,
    75% 50%,50% 70%,25% 50%,15% 38%,15% 25%,
    25% 14%,39% 14%
  );
  animation: heartbeat 1s infinite;
  z-index: 9999;
}

@keyframes heartbeat {
  0% { transform: scale(1); }
  14% { transform: scale(1.3); }
  28% { transform: scale(1); }
  42% { transform: scale(1.3); }
  70% { transform: scale(1); }
  100% { transform: scale(1); }
}

/* ‚ú® SPARKLE */
.cursorSparkle{
  position:fixed;
  width:6px;height:6px;
  border-radius:50%;
  background:radial-gradient(circle,#ff69b4,#ffd700);
  pointer-events:none;
  animation:fade 1s forwards;
}
@keyframes fade{to{opacity:0;transform:scale(0)}}

/* ---------- FIRST PAGE ---------- */
#start{
  position:fixed;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  color:white;
  z-index:10;
  background-size:cover;
  background-position:center;
}
#start h1{
  font-family:'Pacifico', cursive;
  font-size:42px;
  margin-bottom:30px;
  text-shadow:0 0 20px #000;
}

/* BUTTONS */
#buttons{
  width:260px;
  height:190px;
  position:relative;
}
button{
  padding:14px 28px;
  font-size:22px;
  border:none;
  border-radius:30px;
  cursor:pointer;
  background:#ff3366;
  color:white;
  box-shadow:0 0 20px rgba(255,51,102,.6);
}
#no{
  position:absolute;
  top:0;
  width:100%;
  background:#555;
}
#yes{
  position:absolute;
  bottom:0;
  width:100%;
}

/* ---------- JOURNEY ---------- */
#bg{
  position:fixed;
  inset:0;
  background-size:cover;
  background-position:center;
  opacity:0;
  transition:opacity 1s ease;
  z-index:-1;
}

#content {
  height: 100vh;
  display: none;
  flex-direction: column;
  justify-content: flex-start; /* top se shuru hoga */
  align-items: center;
  text-align: center;
  color: white;
  padding-top: 30%; /* üëà first page ke liye 30% top se spacing */
}


#text{
  font-size:48px;
  text-shadow:0 0 20px rgba(0,0,0,.8);
  margin-bottom:80px;
  opacity:0;
  transform:translateY(20px);
  transition:1s;
}
#text.show{
  opacity:1;
  transform:translateY(0);
}

/* NEXT BUTTON */
#nextBtn{
  position:fixed;
  bottom:40px;
  left:50%;
  transform:translateX(-50%);
  padding:14px 32px;
  font-size:22px;
  border-radius:30px;
}

/* üåë FADE TO BLACK ENDING */
#fadeBlack{
  position:fixed;
  inset:0;
  background:black;
  opacity:0;
  pointer-events:none;
  transition:opacity 3.5s ease;
  z-index:50;
}

/* GIF ENDING */
#endGif{
  position:fixed;
  inset:0;
  display:none;
  justify-content:center;
  align-items:center;
  z-index:60;
  pointer-events:none;
}
#endGif img{
  max-width:80%;
  max-height:80%;
}
</style>
</head>

<body>

<div id="heartCursor"></div>

<!-- FIRST PAGE -->
<div id="start">
  <h1>Hey Wifey .. Still My Valentine? üòúüíç‚ù§Ô∏è</h1>
  <div id="buttons">
    <button id="no">No üíî</button>
    <button id="yes" onclick="startJourney()">Yes üíñ</button>
  </div>
</div>

<audio id="bgMusic" loop>
  <source src="abh/ja.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

<!-- JOURNEY -->
<div id="bg"></div>
<div id="content">
  <div id="text"></div>
  <button id="nextBtn" onclick="nextPage()">üíå Keep Reading üòª Love Loading‚Ä¶</button>
</div>

<!-- GIF ENDING -->
<div id="endGif"><img src="abh/cat-kiss.gif" alt="GIF"></div>

<!-- FADE LAYER -->
<div id="fadeBlack"></div>

<script>
const firstPageBg = "abh/IMG_1682.jpeg";
document.getElementById("start").style.backgroundImage =
  `linear-gradient(rgba(0,0,0,.4),rgba(0,0,0,.4)),url(${firstPageBg})`;

const heart=document.getElementById("heartCursor");
document.addEventListener("mousemove",e=>{
  heart.style.left=e.clientX-11+"px";
  heart.style.top=e.clientY-11+"px";

  const s=document.createElement("div");
  s.className="cursorSparkle";
  s.style.left=e.clientX+"px";
  s.style.top=e.clientY+"px";
  document.body.appendChild(s);
  setTimeout(()=>s.remove(),1000);
});

const noBtn=document.getElementById("no");
const box=document.getElementById("buttons");
document.addEventListener("mousemove",e=>{
  const r=noBtn.getBoundingClientRect();
  const d=Math.hypot(e.clientX-(r.left+r.width/2),e.clientY-(r.top+r.height/2));
  if(d<80){
    noBtn.style.left=Math.random()*(box.offsetWidth-r.width)+"px";
    noBtn.style.top=Math.random()*(box.offsetHeight-r.height)+"px";
  }
});

const pages=[
  {
    bg:"abh/15.jpg",
    text:`Forever grateful that I get to call you my wife üíñ
          <br>Every morning I wake up and feel lucky
          <br>Your smile makes every day brighter ‚ú®`
  },
  {
    bg:"abh/5.jpg",
    text:`From Valentine to my forever‚Ä¶ and beyond üíç‚ú®
          <br>Through every laugh, every hug, every tear
          <br>I know our love will only grow stronger ‚ù§Ô∏è`
  },
  {
    bg:"abh/7.jpg",
    text:`With you, even normal days<br>feel magical ‚ú®
          <br>Every little moment with you is a treasure
          <br>You make the ordinary extraordinary üíñ`
  },
  {
    bg:"abh/4.jpg",
    text:`I don‚Äôt want perfect‚Ä¶<br>I just want YOU üíó
          <br>With you, my heart is home
          <br>Every day is better because of you üíï`
  },
  {
    bg:"abh/3.jpg",
    text:`And this‚Ä¶ is my forever with you ‚ù§Ô∏è
          <br>There‚Äôs no one else I‚Äôd rather share my life with
          <br>Every heartbeat whispers your name üíñ
          <br><br><span style="font-size:28px;opacity:.85">‚Äî I LOVE YOU üíñ ‚Äî</span>`
  }
];

let pageIndex=0;
const bg=document.getElementById("bg");
const text=document.getElementById("text");
const content=document.getElementById("content");
const gifDiv=document.getElementById("endGif");

let gifShown=false; // GIF should show only on Yes click first time

function startJourney(){
  document.getElementById("start").style.display="none";
  content.style.display="flex";
  
  const music = document.getElementById("bgMusic");
  music.volume = 0.5; // volume 0-1
  music.play().catch(e => {
    console.log("Music autoplay blocked by browser:", e);
  });

  
  gifShown=true; // enable GIF only once
  showPage();
}

function typeWriterHTML(node, container, speed = 40, callback) {
  if (typeof node === "string") {
    const temp = document.createElement("div");
    temp.innerHTML = node;
    node = temp;
  }
  const nodes = Array.from(node.childNodes);
  let index = 0;
  function typeNextNode() {
    if (index >= nodes.length) { if(callback) callback(); return; }
    const current = nodes[index]; index++;
    if(current.nodeType === Node.TEXT_NODE){
      let charIndex=0;
      function typeChar(){
        if(charIndex<current.textContent.length){
          container.innerHTML += current.textContent.charAt(charIndex);
          charIndex++;
          setTimeout(typeChar,speed);
        } else { typeNextNode(); }
      }
      typeChar();
    } else if(current.nodeType===Node.ELEMENT_NODE){
      if(current.tagName.toLowerCase()==="br"){
        container.innerHTML+="<br>"; typeNextNode();
      } else {
        const startTag=`<${current.tagName.toLowerCase()}${Array.from(current.attributes).map(a=>` ${a.name}="${a.value}"`).join("")}>`;
        container.innerHTML+=startTag;
        typeWriterHTML(current,container,speed,()=>{
          container.innerHTML+=`</${current.tagName.toLowerCase()}>`;
          typeNextNode();
        });
      }
    } else typeNextNode();
  }
  typeNextNode();
}

function showPage() {
  text.classList.remove("show");
  bg.style.opacity=0;
  text.innerHTML="";
if(pageIndex === 0 || pageIndex === 4){
    content.style.paddingTop="20%";
  } else {
    content.style.paddingTop="20px"; // normal spacing for other pages
  }
  
  // GIF only for first page after Yes click
  if(gifShown && pageIndex===0){
    gifDiv.style.display="flex";
    setTimeout(()=>{
      gifDiv.style.display="none";
      bg.style.backgroundImage=`url(${pages[pageIndex].bg})`;
      bg.style.opacity=1;
      text.classList.add("show");
      typeWriterHTML(pages[pageIndex].text,text,40);
    },1500);
  } else {
    bg.style.backgroundImage=`url(${pages[pageIndex].bg})`;
    bg.style.opacity=1;
    text.classList.add("show");
    typeWriterHTML(pages[pageIndex].text,text,40);
  }
}

function nextPage(){
  if(pageIndex<pages.length-1){
    pageIndex++;
    showPage();

    if(pageIndex===pages.length-1){
      document.getElementById("nextBtn").style.display="none";
      // last page fade after 7.5s
      setTimeout(()=>{
        document.getElementById("fadeBlack").style.opacity=1;
      },7500);
    }
	if(pageIndex===pages.length-1){
	setTimeout(()=>{
          const music = document.getElementById("bgMusic");
          music.pause();
          music.currentTime = 0;
        }, 9000);
	}
  }
}
</script>

</body>
</html>
